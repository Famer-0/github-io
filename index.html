<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Test Telegram WebApp</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script> 
</head>
<body>
    <h1>Тестирование Telegram WebApp</h1>
    <pre id="output">Ожидание данных...</pre>

    <script>
        if (typeof Telegram === "undefined" || typeof Telegram.WebApp === "undefined") {
            document.getElementById("output").innerText = "❌ Telegram WebApp недоступен";
        } else {
            const tg = Telegram.WebApp;
            tg.ready();
            const initData = tg.initData || {};
            const telegramUser = initData.user || null;

            if (!telegramUser) {
                document.getElementById("output").innerText = "❌ Telegram user не найден";
            } else {
                document.getElementById("output").innerText =
                    "✅ Telegram ID найден:\n" +
                    `ID: ${telegramUser.id}\n` +
                    `Имя: ${telegramUser.first_name} ${telegramUser.last_name || ''}\n` +
                    `Username: @${telegramUser.username || 'отсутствует'}\n` +
                    `Язык: ${telegramUser.language_code}`;
            }
        }
    </script>
</body>
</html>
